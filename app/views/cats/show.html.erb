<h1><%= @cat.name %></h1>

<table>
  <tr>
    <th>Attribute</th>
    <th>Value</th>
  </tr>
  <tr>
    <td>Age</td>
    <td><%= @cat.age %></td>
  </tr>
  <tr>
    <td>Birthdate</td>
    <td><%= @cat.birth_date %></td>
  </tr>
  <tr>
    <td>Color</td>
    <td><%= @cat.color %></td>
  </tr>
  <tr>
    <td>Sex</td>
    <td><%= @cat.sex %></td>
  </tr>
</table>

<p>
  <%= @cat.description %>
</p>

<h3>Bookings</h3>

<table>
  <tr>
    <th>Start Date</th>
    <th>End Date</th>
    <th>Status</th>
  </tr>
  <% requests = @cat.cat_rental_requests %>
  <% requests.order(:start_date).each do |request| %>
  <tr>
    <td><%= request.start_date %></td>
    <td><%= request.end_date %></td>
    <td><%= request.status %></td>
    <% if request.status == 'PENDING' %>
      <td> <%= button_to "Approve", approve_url(request), method: :patch %> </td>
      <td> <%= button_to "Deny", deny_url(request), method: :patch %> </td>
    <% end %>
  </tr>
  <% end %>
</table>
